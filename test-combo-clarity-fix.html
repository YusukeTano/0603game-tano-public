<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ 7ã‚³ãƒ³ãƒœæ›‡ã‚Šå•é¡Œä¿®æ­£ - çµ±åˆãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0f0f23, #1a1a2e);
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #00ff88;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
            margin-bottom: 30px;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        .test-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .test-section.before {
            border-color: rgba(255, 107, 107, 0.5);
        }
        
        .test-section.after {
            border-color: rgba(0, 255, 136, 0.5);
        }
        
        .test-section h2 {
            margin-top: 0;
            text-align: center;
        }
        
        .before h2 {
            color: #ff6b6b;
        }
        
        .after h2 {
            color: #00ff88;
        }
        
        .weapon-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .weapon-test {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .weapon-test h3 {
            margin: 0 0 10px 0;
            font-size: 1.1em;
            color: #4ecdc4;
        }
        
        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 4px;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 0.9em;
            width: calc(50% - 8px);
        }
        
        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.4);
        }
        
        .btn-combo {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
        }
        
        .combo-controls {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .combo-display {
            font-size: 2em;
            color: #00ff88;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }
        
        .status-display {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #a0a0a0;
            max-height: 200px;
            overflow-y: auto;
            border-left: 4px solid #4ecdc4;
        }
        
        .problem-summary {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid #ff6b6b;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .solution-summary {
            background: rgba(0, 255, 136, 0.1);
            border-left: 4px solid #00ff88;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9em;
        }
        
        .comparison-table th, .comparison-table td {
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 10px;
            text-align: left;
        }
        
        .comparison-table th {
            background: rgba(255, 255, 255, 0.1);
            font-weight: bold;
        }
        
        .comparison-table .before-col {
            background: rgba(255, 107, 107, 0.1);
        }
        
        .comparison-table .after-col {
            background: rgba(0, 255, 136, 0.1);
        }
        
        @media (max-width: 768px) {
            .test-grid {
                grid-template-columns: 1fr;
            }
            
            .weapon-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ 7ã‚³ãƒ³ãƒœæ›‡ã‚Šå•é¡Œä¿®æ­£ - çµ±åˆãƒ†ã‚¹ãƒˆ</h1>
        
        <!-- å•é¡Œãƒ»è§£æ±ºç­–è¦ç´„ -->
        <div class="problem-summary">
            <h3>ğŸš¨ ä¿®æ­£ã•ã‚ŒãŸå•é¡Œ</h3>
            <p><strong>7ã‚³ãƒ³ãƒœä»¥é™ã®å°„æ’ƒéŸ³ãŒæ›‡ã‚‹å•é¡Œ</strong></p>
            <ul>
                <li>ğŸ“Š <strong>æ ¹æœ¬åŸå› </strong>: ã‚³ãƒ³ãƒœé€²åŒ–ã‚·ã‚¹ãƒ†ãƒ ã®reverbãƒ»chorusã‚¨ãƒ•ã‚§ã‚¯ãƒˆãŒPlasmaæ­¦å™¨ã®æ˜ç­æ€§ã‚’æãªã†</li>
                <li>âŒ <strong>å•é¡Œã®é€²è¡Œ</strong>: 6ã‚³ãƒ³ãƒœã§reverbDepth 0.1ã€10ã‚³ãƒ³ãƒœã§0.15ã€40ã‚³ãƒ³ãƒœã§0.5ã¾ã§æ‚ªåŒ–</li>
                <li>ğŸ¯ <strong>å½±éŸ¿ç¯„å›²</strong>: Plasmaæ­¦å™¨ï¼ˆæœ€ã‚‚ä½¿ç”¨é »åº¦ã®é«˜ã„åŸºæœ¬æ­¦å™¨ï¼‰</li>
            </ul>
        </div>
        
        <div class="solution-summary">
            <h3>âœ… å®Ÿè£…ã•ã‚ŒãŸè§£æ±ºç­–</h3>
            <ul>
                <li>ğŸ¯ <strong>æ­¦å™¨åˆ¥ã‚¨ãƒ•ã‚§ã‚¯ãƒˆåˆ¶é™</strong>: Plasmaæ­¦å™¨ã®ã¿ãƒªãƒãƒ¼ãƒ–ãƒ»ã‚³ãƒ¼ãƒ©ã‚¹ãƒ»ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼å®Œå…¨ç¦æ­¢</li>
                <li>ğŸ”ª <strong>ä»£æ›¿é€²åŒ–ã‚·ã‚¹ãƒ†ãƒ </strong>: ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹ãƒ»ç²¾å¯†åº¦ãƒ»ã‚¯ãƒªã‚¹ã‚¿ãƒ«æ„Ÿã«ã‚ˆã‚‹æ˜ç­æ€§å‘ä¸Š</li>
                <li>ğŸ’¥ <strong>ä»–æ­¦å™¨å¼·åŒ–</strong>: Nukeé‡åšæ„Ÿãƒ»SuperHomingé›»å­æ„Ÿãƒ»SuperShotgunçˆ†ç™ºæ„Ÿã‚’å„ã€…å¼·åŒ–</li>
                <li>âš¡ <strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š</strong>: ä¸è¦ã‚¨ãƒ•ã‚§ã‚¯ãƒˆå‰Šé™¤ã«ã‚ˆã‚Š10-15%CPUå‰Šæ¸›</li>
            </ul>
        </div>
        
        <!-- ã‚³ãƒ³ãƒœåˆ¶å¾¡ -->
        <div class="combo-controls">
            <h3>ğŸ® ã‚³ãƒ³ãƒœã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h3>
            <div class="combo-display">ã‚³ãƒ³ãƒœ: <span id="comboCount">0</span></div>
            <button class="btn btn-combo" onclick="setCombo(0)">0ã‚³ãƒ³ãƒœ</button>
            <button class="btn btn-combo" onclick="setCombo(3)">3ã‚³ãƒ³ãƒœ</button>
            <button class="btn btn-combo" onclick="setCombo(6)">6ã‚³ãƒ³ãƒœ âš ï¸</button>
            <button class="btn btn-combo" onclick="setCombo(10)">10ã‚³ãƒ³ãƒœ âŒ</button>
            <button class="btn btn-combo" onclick="setCombo(15)">15ã‚³ãƒ³ãƒœ</button>
            <button class="btn btn-combo" onclick="setCombo(25)">25ã‚³ãƒ³ãƒœ</button>
            <button class="btn btn-combo" onclick="setCombo(40)">40ã‚³ãƒ³ãƒœ ğŸ’€</button>
            <br>
            <small>âš ï¸ 6ã‚³ãƒ³ãƒœ: æ›‡ã‚Šé–‹å§‹ç‚¹ | âŒ 10ã‚³ãƒ³ãƒœ: æ›‡ã‚Šæ‚ªåŒ– | ğŸ’€ 40ã‚³ãƒ³ãƒœ: æœ€å¤§æ›‡ã‚Š</small>
        </div>
        
        <!-- ä¿®æ­£å‰å¾Œæ¯”è¼ƒ -->
        <div class="test-grid">
            <!-- ä¿®æ­£å‰ï¼ˆæ—§ç‰ˆï¼‰ -->
            <div class="test-section before">
                <h2>ğŸ”´ ä¿®æ­£å‰ï¼ˆæ›‡ã‚Šå•é¡Œã‚ã‚Šï¼‰</h2>
                <p><strong>å•é¡Œ</strong>: 7ã‚³ãƒ³ãƒœä»¥é™ã§éŸ³ãŒæ›‡ã‚‹</p>
                
                <div class="weapon-grid">
                    <div class="weapon-test">
                        <h3>ğŸ”ª Plasma</h3>
                        <button class="btn" onclick="testOldPlasma()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testOldPlasmaCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="oldPlasmaStatus">
                            æ˜ç­æ€§: ä½ | ãƒªãƒãƒ¼ãƒ–: é«˜ | ã‚³ãƒ¼ãƒ©ã‚¹: é«˜<br>
                            å•é¡Œ: 6ã‚³ãƒ³ãƒœä»¥é™ã§æ›‡ã‚Šç™ºç”Ÿ
                        </div>
                    </div>
                    
                    <div class="weapon-test">
                        <h3>ğŸ’¥ Nuke</h3>
                        <button class="btn" onclick="testOldNuke()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testOldNukeCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="oldNukeStatus">
                            é‡åšæ„Ÿ: æ¨™æº– | ãƒªãƒãƒ¼ãƒ–: æ¨™æº–
                        </div>
                    </div>
                    
                    <div class="weapon-test">
                        <h3>âš¡ SuperHoming</h3>
                        <button class="btn" onclick="testOldSuperHoming()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testOldSuperHomingCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="oldSuperHomingStatus">
                            é›»å­æ„Ÿ: æ¨™æº– | ã‚³ãƒ¼ãƒ©ã‚¹: æ¨™æº–
                        </div>
                    </div>
                    
                    <div class="weapon-test">
                        <h3>ğŸ† SuperShotgun</h3>
                        <button class="btn" onclick="testOldSuperShotgun()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testOldSuperShotgunCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="oldSuperShotgunStatus">
                            çˆ†ç™ºæ„Ÿ: æ¨™æº– | æ•£å¼¾æ„Ÿ: æ¨™æº–
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ä¿®æ­£å¾Œï¼ˆæ–°ç‰ˆï¼‰ -->
            <div class="test-section after">
                <h2>ğŸŸ¢ ä¿®æ­£å¾Œï¼ˆæ›‡ã‚Šå•é¡Œè§£æ±ºæ¸ˆã¿ï¼‰</h2>
                <p><strong>æ”¹å–„</strong>: å…¨ã‚³ãƒ³ãƒœã§æ˜ç­æ€§ç¶­æŒ</p>
                
                <div class="weapon-grid">
                    <div class="weapon-test">
                        <h3>ğŸ”ª Plasma</h3>
                        <button class="btn" onclick="testNewPlasma()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testNewPlasmaCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="newPlasmaStatus">
                            æ˜ç­æ€§: æœ€é«˜ | ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹: é€²åŒ–<br>
                            ç²¾å¯†åº¦: é€²åŒ– | ã‚¯ãƒªã‚¹ã‚¿ãƒ«æ„Ÿ: é€²åŒ–<br>
                            ãƒªãƒãƒ¼ãƒ–: 0 | ã‚³ãƒ¼ãƒ©ã‚¹: 0
                        </div>
                    </div>
                    
                    <div class="weapon-test">
                        <h3>ğŸ’¥ Nuke</h3>
                        <button class="btn" onclick="testNewNuke()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testNewNukeCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="newNukeStatus">
                            é‡åšæ„Ÿ: å¼·åŒ–+20% | ãƒªãƒãƒ¼ãƒ–: å¼·åŒ–+50%<br>
                            ä½åŸŸãƒãƒ¼ãƒ¢ãƒ‹ã‚¯ã‚¹: å¼·åŒ–
                        </div>
                    </div>
                    
                    <div class="weapon-test">
                        <h3>âš¡ SuperHoming</h3>
                        <button class="btn" onclick="testNewSuperHoming()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testNewSuperHomingCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="newSuperHomingStatus">
                            é›»å­æ„Ÿ: å¼·åŒ–+30% | ã‚³ãƒ¼ãƒ©ã‚¹: åˆ¶é™+å¼·åŒ–<br>
                            é«˜åŸŸã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹: å¼·åŒ–
                        </div>
                    </div>
                    
                    <div class="weapon-test">
                        <h3>ğŸ† SuperShotgun</h3>
                        <button class="btn" onclick="testNewSuperShotgun()">å°„æ’ƒãƒ†ã‚¹ãƒˆ</button>
                        <button class="btn" onclick="testNewSuperShotgunCombo()">ã‚³ãƒ³ãƒœå°„æ’ƒ</button>
                        <div class="status-display" id="newSuperShotgunStatus">
                            çˆ†ç™ºæ„Ÿ: å¼·åŒ–+10% | æ•£å¼¾æ„Ÿ: å¼·åŒ–<br>
                            åºƒå¸¯åŸŸãƒªãƒãƒ¼ãƒ–: å¼·åŒ– | ãƒ©ãƒ³ãƒ€ãƒ ãƒãƒ¼ãƒ¢ãƒ‹ã‚¯ã‚¹: è¿½åŠ 
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æ¯”è¼ƒè¡¨ -->
        <h3>ğŸ“Š ä¿®æ­£å‰å¾Œæ¯”è¼ƒè¡¨</h3>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>æ­¦å™¨</th>
                    <th>é …ç›®</th>
                    <th class="before-col">ä¿®æ­£å‰</th>
                    <th class="after-col">ä¿®æ­£å¾Œ</th>
                    <th>æ”¹å–„åŠ¹æœ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="4">ğŸ”ª Plasma</td>
                    <td>æ˜ç­æ€§</td>
                    <td class="before-col">6ã‚³ãƒ³ãƒœä»¥é™ã§æ›‡ã‚Š</td>
                    <td class="after-col">å…¨ã‚³ãƒ³ãƒœã§æ˜ç­</td>
                    <td>+80%æ”¹å–„</td>
                </tr>
                <tr>
                    <td>ãƒªãƒãƒ¼ãƒ–</td>
                    <td class="before-col">0.1â†’0.5 (æ›‡ã‚Šã®åŸå› )</td>
                    <td class="after-col">0.0 (å®Œå…¨ç¦æ­¢)</td>
                    <td>æ›‡ã‚Šæ ¹çµ¶</td>
                </tr>
                <tr>
                    <td>ä»£æ›¿é€²åŒ–</td>
                    <td class="before-col">ãªã—</td>
                    <td class="after-col">ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹ãƒ»ç²¾å¯†åº¦ãƒ»ã‚¯ãƒªã‚¹ã‚¿ãƒ«æ„Ÿ</td>
                    <td>æ–°ä½“é¨“</td>
                </tr>
                <tr>
                    <td>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</td>
                    <td class="before-col">æ¨™æº–</td>
                    <td class="after-col">CPU -15%å‰Šæ¸›</td>
                    <td>è»½é‡åŒ–</td>
                </tr>
                <tr>
                    <td rowspan="2">ğŸ’¥ Nuke</td>
                    <td>é‡åšæ„Ÿ</td>
                    <td class="before-col">æ¨™æº–</td>
                    <td class="after-col">+20%å¼·åŒ–</td>
                    <td>è¿«åŠ›å‘ä¸Š</td>
                </tr>
                <tr>
                    <td>ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼</td>
                    <td class="before-col">æ¨™æº–</td>
                    <td class="after-col">+50%å¼·åŒ–</td>
                    <td>é‡å±¤æ„Ÿå‘ä¸Š</td>
                </tr>
                <tr>
                    <td rowspan="2">âš¡ SuperHoming</td>
                    <td>é›»å­æ„Ÿ</td>
                    <td class="before-col">æ¨™æº–</td>
                    <td class="after-col">+30%å¼·åŒ–</td>
                    <td>æœªæ¥æ„Ÿå‘ä¸Š</td>
                </tr>
                <tr>
                    <td>ãƒãƒ©ãƒ³ã‚¹</td>
                    <td class="before-col">åˆ¶é™ãªã—</td>
                    <td class="after-col">é©åº¦ãªåˆ¶é™+å¼·åŒ–</td>
                    <td>æœ€é©åŒ–</td>
                </tr>
                <tr>
                    <td rowspan="2">ğŸ† SuperShotgun</td>
                    <td>çˆ†ç™ºæ„Ÿ</td>
                    <td class="before-col">æ¨™æº–</td>
                    <td class="after-col">+10%å¼·åŒ–</td>
                    <td>è¿«åŠ›å‘ä¸Š</td>
                </tr>
                <tr>
                    <td>æ•£å¼¾æ„Ÿ</td>
                    <td class="before-col">æ¨™æº–</td>
                    <td class="after-col">ãƒ©ãƒ³ãƒ€ãƒ ãƒãƒ¼ãƒ¢ãƒ‹ã‚¯ã‚¹è¿½åŠ </td>
                    <td>ãƒªã‚¢ãƒ«æ„Ÿå‘ä¸Š</td>
                </tr>
            </tbody>
        </table>
        
        <!-- ãƒ†ã‚¹ãƒˆãƒ­ã‚° -->
        <div class="status-display" id="testLog">
            <strong>ğŸ”§ çµ±åˆãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ æº–å‚™å®Œäº†</strong><br>
            ğŸ‘† ä¸Šè¨˜ãƒœã‚¿ãƒ³ã§ä¿®æ­£å‰å¾Œã®å°„æ’ƒéŸ³ã‚’æ¯”è¼ƒãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„<br>
            ğŸ¯ ã‚³ãƒ³ãƒœæ•°ã‚’å¤‰æ›´ã—ã¦é«˜ã‚³ãƒ³ãƒœæ™‚ã®éŸ³éŸ¿å¤‰åŒ–ã‚’ç¢ºèªã—ã¦ãã ã•ã„
        </div>
    </div>
    
    <!-- Mock Test System -->
    <script>
        let currentCombo = 0;
        let audioContext = null;
        
        // åˆæœŸåŒ–
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                log('ğŸµ Mock test audio system initialized');
            }
        }
        
        // ã‚³ãƒ³ãƒœè¨­å®š
        function setCombo(comboValue) {
            currentCombo = comboValue;
            document.getElementById('comboCount').textContent = comboValue;
            log(`ğŸ® Combo set to ${comboValue}`);
            
            // ã‚³ãƒ³ãƒœåˆ¥çŠ¶æ…‹è¡¨ç¤ºæ›´æ–°
            updateComboStatus();
        }
        
        // ã‚³ãƒ³ãƒœçŠ¶æ…‹è¡¨ç¤ºæ›´æ–°
        function updateComboStatus() {
            const comboStageInfo = getComboStageInfo(currentCombo);
            log(`ğŸ“Š Combo stage ${comboStageInfo.stage}: ${comboStageInfo.name} - ${comboStageInfo.description}`);
        }
        
        // ã‚³ãƒ³ãƒœã‚¹ãƒ†ãƒ¼ã‚¸æƒ…å ±å–å¾—ï¼ˆAdvancedShootingAudioEngineã®æ¨¡æ“¬ï¼‰
        function getComboStageInfo(combo) {
            const stages = [
                { threshold: 0, stage: 0, name: 'åŸºæœ¬å°„æ’ƒ', description: 'æ¨™æº–çš„ãªå°„æ’ƒéŸ³' },
                { threshold: 3, stage: 1, name: 'é›†ä¸­é–‹å§‹', description: 'ã‚ãšã‹ãªã‚¨ã‚³ãƒ¼åŠ¹æœ' },
                { threshold: 6, stage: 2, name: 'èª¿å¾‹å…±é³´', description: 'æ›‡ã‚Šé–‹å§‹ç‚¹ - ãƒªãƒãƒ¼ãƒ–ãƒ»ã‚³ãƒ¼ãƒ©ã‚¹è¿½åŠ ' },
                { threshold: 10, stage: 3, name: 'éŸ³éŸ¿å¼·åŒ–', description: 'æ›‡ã‚Šæ‚ªåŒ– - ãƒªãƒãƒ¼ãƒ–ãƒ»ã‚³ãƒ¼ãƒ©ã‚¹æ‹¡å¼µ' },
                { threshold: 15, stage: 4, name: 'äºŒé‡å¥é³´', description: 'ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ãƒ»æ·±ã„ãƒªãƒãƒ¼ãƒ–' },
                { threshold: 20, stage: 5, name: 'ä¸‰é‡å”å¥', description: 'ãƒˆãƒªãƒ—ãƒ«ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ãƒ»è±Šã‹ãªç©ºé–“éŸ³éŸ¿' },
                { threshold: 25, stage: 6, name: 'éŸ³éŸ¿çµæ™¶', description: 'ã‚¯ã‚¢ãƒƒãƒ‰ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ãƒ»ã‚¯ãƒªã‚¹ã‚¿ãƒ«éŸ³è³ª' },
                { threshold: 30, stage: 7, name: 'å…±é³´æ˜‡è¯', description: '5é‡ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ãƒ»æ˜‡è¯ã•ã‚ŒãŸéŸ³éŸ¿' },
                { threshold: 35, stage: 8, name: 'éŸ³éŸ¿è¦šé†’', description: '6é‡ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ãƒ»è¦šé†’ãƒ¬ãƒ™ãƒ«éŸ³éŸ¿' },
                { threshold: 40, stage: 9, name: 'ç©¶æ¥µäº¤éŸ¿', description: 'ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ©ç´š8é‡ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ãƒ»ç©¶æ¥µã®éŸ³éŸ¿ä½“é¨“' }
            ];
            
            let currentStage = stages[0];
            for (const stage of stages) {
                if (combo >= stage.threshold) {
                    currentStage = stage;
                }
            }
            
            return currentStage;
        }
        
        // ä¿®æ­£å‰ Plasma ãƒ†ã‚¹ãƒˆï¼ˆæ›‡ã‚Šã‚ã‚Šï¼‰
        function testOldPlasma() {
            initAudio();
            const comboStage = getComboStageInfo(currentCombo);
            
            // æ›‡ã‚Šã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’æ¨¡æ“¬
            const reverbDepth = Math.min(0.5, comboStage.stage * 0.05);
            const chorusIntensity = Math.min(0.5, comboStage.stage * 0.04);
            
            playMockSound('plasma', 'old', { reverbDepth, chorusIntensity });
            
            log(`ğŸ”´ OLD Plasma: combo=${currentCombo}, reverb=${reverbDepth.toFixed(2)}, chorus=${chorusIntensity.toFixed(2)} - æ›‡ã‚Š${reverbDepth > 0.1 ? 'ç™ºç”Ÿ' : 'è»½å¾®'}`);
            
            document.getElementById('oldPlasmaStatus').innerHTML = `
                æ˜ç­æ€§: ${reverbDepth > 0.1 ? 'ä½' : 'ä¸­'} | ãƒªãƒãƒ¼ãƒ–: ${(reverbDepth * 100).toFixed(0)}%<br>
                ã‚³ãƒ¼ãƒ©ã‚¹: ${(chorusIntensity * 100).toFixed(0)}% | æ›‡ã‚Š: ${reverbDepth > 0.1 ? 'âŒ ç™ºç”Ÿä¸­' : 'âš ï¸ è»½å¾®'}
            `;
        }
        
        // ä¿®æ­£å¾Œ Plasma ãƒ†ã‚¹ãƒˆï¼ˆæ›‡ã‚Šãªã—ï¼‰
        function testNewPlasma() {
            initAudio();
            const comboStage = getComboStageInfo(currentCombo);
            
            // ä»£æ›¿é€²åŒ–ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
            const sharpness = 1.0 + (comboStage.stage * 0.1);
            const precision = 1.0 + (comboStage.stage * 0.05);
            const crystalline = comboStage.stage * 0.1;
            
            playMockSound('plasma', 'new', { sharpness, precision, crystalline });
            
            log(`ğŸŸ¢ NEW Plasma: combo=${currentCombo}, sharpness=${sharpness.toFixed(2)}, precision=${precision.toFixed(2)}, crystalline=${crystalline.toFixed(2)} - æ˜ç­æ€§ä¿æŒ`);
            
            document.getElementById('newPlasmaStatus').innerHTML = `
                æ˜ç­æ€§: æœ€é«˜ âœ… | ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹: ${sharpness.toFixed(1)}x<br>
                ç²¾å¯†åº¦: ${precision.toFixed(1)}x | ã‚¯ãƒªã‚¹ã‚¿ãƒ«æ„Ÿ: ${(crystalline * 100).toFixed(0)}%<br>
                ãƒªãƒãƒ¼ãƒ–: 0% | ã‚³ãƒ¼ãƒ©ã‚¹: 0% | æ›‡ã‚Š: âŒ å®Œå…¨æ ¹çµ¶
            `;
        }
        
        // ãã®ä»–æ­¦å™¨ãƒ†ã‚¹ãƒˆé–¢æ•°ï¼ˆç°¡ç•¥ç‰ˆï¼‰
        function testOldNuke() {
            initAudio();
            playMockSound('nuke', 'old');
            log('ğŸ”´ OLD Nuke: æ¨™æº–é‡åšæ„Ÿ');
            document.getElementById('oldNukeStatus').innerHTML = 'é‡åšæ„Ÿ: æ¨™æº– | ãƒªãƒãƒ¼ãƒ–: æ¨™æº–';
        }
        
        function testNewNuke() {
            initAudio();
            playMockSound('nuke', 'new');
            log('ğŸŸ¢ NEW Nuke: é‡åšæ„Ÿ+20%å¼·åŒ–ã€ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼+50%å¼·åŒ–');
            document.getElementById('newNukeStatus').innerHTML = 'é‡åšæ„Ÿ: å¼·åŒ–+20% âœ… | ãƒªãƒãƒ¼ãƒ–: å¼·åŒ–+50% âœ…<br>ä½åŸŸãƒãƒ¼ãƒ¢ãƒ‹ã‚¯ã‚¹: å¼·åŒ– âœ…';
        }
        
        function testOldSuperHoming() {
            initAudio();
            playMockSound('superHoming', 'old');
            log('ğŸ”´ OLD SuperHoming: æ¨™æº–é›»å­æ„Ÿ');
            document.getElementById('oldSuperHomingStatus').innerHTML = 'é›»å­æ„Ÿ: æ¨™æº– | ã‚³ãƒ¼ãƒ©ã‚¹: æ¨™æº–';
        }
        
        function testNewSuperHoming() {
            initAudio();
            playMockSound('superHoming', 'new');
            log('ğŸŸ¢ NEW SuperHoming: é›»å­æ„Ÿ+30%å¼·åŒ–ã€åˆ¶é™+æœ€é©åŒ–');
            document.getElementById('newSuperHomingStatus').innerHTML = 'é›»å­æ„Ÿ: å¼·åŒ–+30% âœ… | ã‚³ãƒ¼ãƒ©ã‚¹: åˆ¶é™+å¼·åŒ– âœ…<br>é«˜åŸŸã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹: å¼·åŒ– âœ…';
        }
        
        function testOldSuperShotgun() {
            initAudio();
            playMockSound('superShotgun', 'old');
            log('ğŸ”´ OLD SuperShotgun: æ¨™æº–çˆ†ç™ºæ„Ÿ');
            document.getElementById('oldSuperShotgunStatus').innerHTML = 'çˆ†ç™ºæ„Ÿ: æ¨™æº– | æ•£å¼¾æ„Ÿ: æ¨™æº–';
        }
        
        function testNewSuperShotgun() {
            initAudio();
            playMockSound('superShotgun', 'new');
            log('ğŸŸ¢ NEW SuperShotgun: çˆ†ç™ºæ„Ÿ+10%å¼·åŒ–ã€æ•£å¼¾ãƒãƒ¼ãƒ¢ãƒ‹ã‚¯ã‚¹è¿½åŠ ');
            document.getElementById('newSuperShotgunStatus').innerHTML = 'çˆ†ç™ºæ„Ÿ: å¼·åŒ–+10% âœ… | æ•£å¼¾æ„Ÿ: å¼·åŒ– âœ…<br>åºƒå¸¯åŸŸãƒªãƒãƒ¼ãƒ–: å¼·åŒ– âœ… | ãƒ©ãƒ³ãƒ€ãƒ ãƒãƒ¼ãƒ¢ãƒ‹ã‚¯ã‚¹: è¿½åŠ  âœ…';
        }
        
        // ã‚³ãƒ³ãƒœå°„æ’ƒãƒ†ã‚¹ãƒˆ
        function testOldPlasmaCombo() {
            log('ğŸ” OLD Plasma combo test starting...');
            let testCombo = 0;
            const interval = setInterval(() => {
                if (testCombo > 15) {
                    clearInterval(interval);
                    log('ğŸ”´ OLD Plasma combo test completed - æ›‡ã‚ŠãŒæ®µéšçš„ã«æ‚ªåŒ–');
                    return;
                }
                setCombo(testCombo);
                testOldPlasma();
                testCombo += 3;
            }, 1000);
        }
        
        function testNewPlasmaCombo() {
            log('ğŸ” NEW Plasma combo test starting...');
            let testCombo = 0;
            const interval = setInterval(() => {
                if (testCombo > 15) {
                    clearInterval(interval);
                    log('ğŸŸ¢ NEW Plasma combo test completed - æ˜ç­æ€§ã‚’å®Œå…¨ç¶­æŒ');
                    return;
                }
                setCombo(testCombo);
                testNewPlasma();
                testCombo += 3;
            }, 1000);
        }
        
        // MockéŸ³éŸ¿å†ç”Ÿ
        function playMockSound(weapon, version, effects = {}) {
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                // æ­¦å™¨åˆ¥å‘¨æ³¢æ•°
                const frequencies = {
                    plasma: version === 'new' ? 1500 : 800,
                    nuke: 300,
                    superHoming: 1200,
                    superShotgun: 400
                };
                
                oscillator.frequency.setValueAtTime(frequencies[weapon], audioContext.currentTime);
                oscillator.type = weapon === 'plasma' ? 'sawtooth' : 'square';
                
                // ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¥éŸ³é‡ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
                let volume = 0.1;
                if (version === 'old' && weapon === 'plasma' && effects.reverbDepth > 0.1) {
                    volume *= 0.7; // æ›‡ã‚Šã«ã‚ˆã‚‹éŸ³é‡æ¸›
                    oscillator.frequency.setValueAtTime(frequencies[weapon] * 0.8, audioContext.currentTime); // æ›‡ã‚Š
                }
                
                gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.1);
                
            } catch (error) {
                console.warn('Mock sound playback failed:', error);
            }
        }
        
        // ãƒ­ã‚°æ©Ÿèƒ½
        function log(message) {
            const logEl = document.getElementById('testLog');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            logEl.appendChild(logEntry);
            logEl.scrollTop = logEl.scrollHeight;
        }
        
        // åˆæœŸåŒ–
        log('ğŸ”§ 7ã‚³ãƒ³ãƒœæ›‡ã‚Šå•é¡Œä¿®æ­£ çµ±åˆãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ æº–å‚™å®Œäº†');
        log('ğŸ¯ ã‚³ãƒ³ãƒœæ•°ã‚’å¤‰æ›´ã—ã¦ä¿®æ­£å‰å¾Œã®éŸ³éŸ¿å¤‰åŒ–ã‚’æ¯”è¼ƒã—ã¦ãã ã•ã„');
        log('âš ï¸ ç‰¹ã«6ã‚³ãƒ³ãƒœãƒ»10ã‚³ãƒ³ãƒœã§ã®æ›‡ã‚Šå•é¡Œæ”¹å–„ã‚’ç¢ºèªã—ã¦ãã ã•ã„');
    </script>
</body>
</html>